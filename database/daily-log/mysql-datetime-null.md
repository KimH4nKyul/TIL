# MySQL5 에서 `DATETIME` 타입에 `NULL` 값 넣을 때 발생하는 문제

## 스토리
> 단말기로 공지사항 예약 발송 기능을 개발하는 도중에 발생한 문제이다.  
공지사항 테이블에는 `SCHEDULETIME` 이라는 예약일자를 저장하는 칼럼이 있는데 기본값이 `NULL` 이다. 그러나 예약 페이지에서 예약 발송을 원치 않아 `null` 또는 `''` 을 주고, API에 요청을 보내면 JDBC에서 `Datetime incorrect value : ''` 에러가 발생한다. 

## 문제

* 테이블 칼럼의 디폴트 값이 `NULL` 이어도 `NULL` 값을 지정해 넣어줄 수 없음

## 시도

* `DATETIME` 의 형식에 맞게 `0000-00-00 00:00:00` 입력
    - 디폴트 값이 `NULL` 이므로, 형식에 맞지 않아 에러 발생

* `0` 또는 `''` 또는 `NULL` 입력
    - 디폴트 값이 `NULL` 이므로, 형식에 맞지 않아 에러 발생
        > `NULL` 마저도 형식에 맞지 않다니 환장할 노릇!

## 해결

* 첫번째 방법
    - `DATETIME` 타입인 칼럼의 디폴트 값을 `1000-01-01` 로 지정
        - MySQL5 이상에서는 `DATETIME` 의 최소값이 `1000-01-01` 이라고 함
* 두번째 방법
    - `INSERT` 또는 `UPDATE` 시에 칼럼에 넣을 값 지정(전달)해주지 않기
        - 제일 단순한 방법이지만, 프론트엔드 코드 구조를 해치고 싶지 않은 마음에 시도하지 않았음 
            > 하지만 분명히 유효한 방법!
* 세번째 방법
    - Connection String에 `zeroDateTimeBehavior=convertToNull` 추가 
        - 이 방법은 회사 DB 설정을 함부로 변경할 수 없어서 시도하지 않았음
        - 찾아보니 테이블의 `TIMESTAMP` 칼럼의 값을 조회할 때 `0000-00-00 00:00:00` 으로 저장된 값을 JAVA에서 `Date` 객체로 표현할 수 없어서 발생하는 에러라고 함
            > 현재 상황과 무관!


